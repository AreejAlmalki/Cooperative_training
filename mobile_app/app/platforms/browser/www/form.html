<!DOCTYPE html>
<html dir="rtl" lang="ar">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>التدریب التعاوني </title>
    <link rel="shortcut icon" href="images/logo.png">

    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.css" />
    <script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.js"></script>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>

</head>

<body>
    <script type="text/javascript" src="cordova.js"></script>

    <div class="header">
    </div>

    <ul>
        <li style="font-family: Calibri;">
            <a style="color:#CA5858;" href="index.html"> <b> الصفحة الرئیسیة </b> </a> </li>

        <br>

        <li style="border-bottom: 3px solid #C0C0BE;font-family: Calibri; "><a style="color:#CA5858;" href="form.html"> <b> نموذج طلب التدریب  </b> </a> </li>
        <br>

        <li style=" font-family: Calibri; "><a style="color:#CA5858;" href="contactus.html"> <b> تواصل معنا  </b> </a> </li>




    </ul>


    <!-- All you need is this one div!-->
    <div class="simple-ss" id="simple-ss"></div>

    <div style="text-align: center; color=#0b7acb;">
        <div class="container" style="margin: 2% auto; margin-right: 2%; color=#0b7acb;">
            <div class="table-responsive" style="color=#0b7acb;">

                <span id="result"></span>
                <div id="live_data" align="right"></div>


            </div>
        </div>

        <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="http://code.jquery.com/jquery-latest.js"></script>
        <script src="http://code.jquery.com/jquery-latest.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/js/bootstrap-datepicker.js"></script>
        <script src="jStyle.js"></script>


    </div>


    <div style="text-align: right; color:#3C5E83;font-family: Calibri;font-size:19px;" dir="rtl" lang="ar">

        <form>
            <h3 style="text-align: center; color: #CA5858; font-family: Calibri;">نموذج طلب تدريب </h3>
            &nbsp;<b> اسم الطالبة </b>
            <input type="text" id="name" required><br> &nbsp;
            <b>الهوية الوطنية</b>
            <input type="tel" id="id" pattern="[0-9]{10}" maxlength="10" required><br> &nbsp;
            <b> رقم الجوال </b>
            <input type="tel" id="phone" pattern="[05]{2}[0-9]{4}[0-9]{4}" maxlength="10" required><br> &nbsp;
            <b>البريد الإلكتروني </b>
            <input type="email" id="email" pattern="[1-9A-Za-z_]*[@][A-Za-z_.]*[.]{1}[A-Za-z]*" required><br> &nbsp;
            <b>  جهة الطالبة التعليمية</b>
            <input type="text" id="university" required><br> &nbsp;
            <b>المستوى الدراسي </b>
            <input type="number" id="level" required><br> &nbsp;
            <b>التخصص </b>
            <input type="text" id="majer" required><br> &nbsp;

            <b>نظام المعدل المستخدم  </b>
            <div style=" border: 4px solid  lightgrey; border-radius: 8px;  border-width: 4px 6px 6px 4px; background-color:rgb(240, 240, 240);">
                <label> 
            <input style=" width:20px; height:30px;" type="radio" name="first" value="4" id="4" onclick="document.getElementById('GPA_from5').value = ''" required> &nbsp; 4.00
            <input type="number" name="second" class="second"  id="GPA_from4" step="0.01" min="3" max="4" placeholder="المعدل التراكمي " required> 
            </label>
                <label>
            <input style=" width:20px; height:30px;" type="radio" name="first" value="5" id="5"  onclick="document.getElementById('GPA_from4').value = ''" >&nbsp; 5.00
            <input type="number" name="second" class="second" id="GPA_from5" step="0.01" min="4" max="5" placeholder="المعدل التراكمي " required> <br>
            </label>
            </div>

            &nbsp;<b> وقت التدريب </b>
            <div style=" border: 4px solid  lightgrey; border-radius: 8px;  border-width: 4px 6px 6px 4px; background-color:rgb(240, 240, 240);">
                <label>
                <input style="direction: rtr; width:20px; height:30px;" type="radio" id="term" name="Semester" value="الفصل الأول" required>  &nbsp; الفصل الأول <br> </label>
                <label>
                <input style="direction: rtr; width:20px; height:30px;" type="radio" id="term" name="Semester" value="الفصل الثاني" >  &nbsp; الفصل الثاني  <br>
                </label>
                <label>
                <input style="direction: rtr; width:20px; height:30px;" type="radio" id="term" name="Semester" value="الفصل الصيفي" > &nbsp; الفصل الصيفي <br>
                </label>
            </div>
            &nbsp;<b>تاريخ بداية التدريب </b>
            <input type="date" id="StartDate" required><br> &nbsp;
            <b>تاريخ نهاية التدريب </b>
            <input type="date" id="EndDate" required><br> &nbsp;
            <b>مدة التدريب المطلوبة  </b>
            <div style=" border: 4px solid  lightgrey; border-radius: 8px;  border-width: 4px 6px 6px 4px; background-color:rgb(240, 240, 240);">
                <label> 
            <input style=" width:20px; height:30px;" type="radio" name="period" id="Hours" value="Hours" onclick="document.getElementById('MonthNum').value = ''" required> &nbsp; عدد الساعات 
           <input type="number" name="thired" class="thired" id="HoursNum" required>
            </label>
                <label>
            <input style=" width:20px; height:30px;" type="radio" name="period"  id="Month" value="Month" onclick="document.getElementById('HoursNum').value = ''" >&nbsp; عدد الأشهر
            <input type="number" name="thired" class="thired" id="MonthNum"  required> <br>
            </label>
            </div>
            <b>اسم مشرفة التدريب التابعة للجهة </b>
            <input type="text" id="SupervisorName" required><br> &nbsp;
            <b>رقم التواصل الخاص بالمشرفة </b>
            <input type="tel" id="SupervisorPhone" required><br> &nbsp;
            <b>البريد الخاص بالمشرفة </b>
            <input type="email" id="SupervisorEmail" pattern="[1-9A-Za-z_]*[@][A-Za-z_.]*[.]{1}[A-Za-z]*" required><br>
            <input type="submit" value="إرسال">

        </form>


        <script>
            $(document).ready(function() {
                $(".second").attr('disabled', true);
                document.getElementById("GPA_from4").style.backgroundColor = "	#D8D8D8";
                document.getElementById("GPA_from5").style.backgroundColor = "	#D8D8D8";
                $("input:radio").change(function() {
                    if ($("[name=first]:checked").val() == "4") {
                        $("#GPA_from4").attr('disabled', false);
                        $("#GPA_from5").attr('disabled', true);
                        document.getElementById("GPA_from4").focus();
                        document.getElementById("GPA_from4").style.backgroundColor = "#F0F0F0";
                        document.getElementById("GPA_from5").style.backgroundColor = "	#D8D8D8";

                    }
                    // Else Enable radio buttons.
                    else if ($("[name=first]:checked").val() == "5") {
                        $("#GPA_from4").attr('disabled', true);
                        $("#GPA_from5").attr('disabled', false);
                        document.getElementById("GPA_from5").focus();
                        document.getElementById("GPA_from5").style.backgroundColor = "#F0F0F0";
                        document.getElementById("GPA_from4").style.backgroundColor = "#D8D8D8";
                    }
                });
                
                
             $(".thired").attr('disabled', true);
                document.getElementById("HoursNum").style.backgroundColor = "	#D8D8D8";
                document.getElementById("MonthNum").style.backgroundColor = "	#D8D8D8";
               $("input:radio").change(function() {
                    if ($("[name=period]:checked").val() == "Hours") {
                        $("#HoursNum").attr('disabled', false);
                        $("#MonthNum").attr('disabled', true);
                        document.getElementById("HoursNum").focus();
                        document.getElementById("HoursNum").style.backgroundColor = "#F0F0F0";
                        document.getElementById("MonthNum").style.backgroundColor = "	#D8D8D8";

                    }
                    // Else Enable radio buttons.
                    else if ($("[name=period]:checked").val() == "Month") {
                        $("#HoursNum").attr('disabled', true);
                        $("#MonthNum").attr('disabled', false);
                        document.getElementById("MonthNum").focus();
                        document.getElementById("MonthNum").style.backgroundColor = "#F0F0F0";
                        document.getElementById("HoursNum").style.backgroundColor = "#D8D8D8";
                    }
                });




                $('input[type="submit"]').click(function(e) {
                    var term = $("[name=Semester]:checked").val();
                    var GPAsystem = $("[name=first]:checked").val();
                    var GPA;
                   
                    var period=$("[name=period]:checked").val();
                    //var time;


                    if ($("#name").val() != '' && $("#id").val() != '' && $("#id").val().length == 10 && $("#phone").val().length == 10 && validatephone($("#phone").val(), e) && $("#email").val() != '' && $("#email").val().split('@')[1] != '' && $("#email").val().split('@')[1] != undefined && $("#university").val() != '' && $("#level").val() != '' && $("#majer").val() != '' && validGPA($("#GPA_from4").val(), $("#GPA_from5").val(), GPAsystem, e) && $("#StartDate").val() != '' && $("#EndDate").val() != '' && ($("#HoursNum").val() != '' || $("#MonthNum").val() != '') && $("#SupervisorName").val() != '' && $("#SupervisorPhone").val() != '' && $("#SupervisorEmail").val() != '' && $("#SupervisorEmail").val().split('@')[1] != '' && $("#SupervisorEmail").val().split('@')[1] != undefined && term != undefined && validateEmail($("#email").val(), e) && validateEmail($("#SupervisorEmail").val(), e)) {
                        if (GPAsystem == 4)
                            GPA = $("#GPA_from4").val();
                        else
                            GPA = $("#GPA_from5").val();
                        
                        //write ajax
                        $.ajax({
                            type: "POST",
                            url: "http://10.110.152.151:8040/s/train.php",
                            data: {
                                name: $("#name").val(),
                                id: $("#id").val(),
                                phone: $("#phone").val(),
                                email: $("#email").val(),
                                university: $("#university").val(),
                                level: $("#level").val(),
                                majer: $("#majer").val(),
                                GPA: GPA,
                                StartDate: $("#StartDate").val(),
                                EndDate: $("#EndDate").val(),
                                HoursNum: $("#HoursNum").val(),
                                MonthNum: $("#MonthNum").val(),
                                SupervisorName: $("#SupervisorName").val(),
                                SupervisorPhone: $("#SupervisorPhone").val(),
                                SupervisorEmail: $("#SupervisorEmail").val(),
                                term: term,
                                GPA_System: GPAsystem,
                            },

                        });

                        e.stopImmediatePropagation();
                        alert("تم إرسال الطلب بنجاح ");
                    }
                }); //end btn
            }); ///end jquery

        </script>

        <script>
            function validateEmail(emailField, e) {
                var reg = /^([A-Za-z0-9_\-\.]+)@[A-Za-z0-9-]+(\.[A-Za-z0-9-]+)*(\.[A-Za-z]{2,3})$/;

                if (reg.test(emailField) == false) {
                    e.stopImmediatePropagation();
                    alert("الرجاء إدخال البريد الإلكتروني بشكل صحيح");
                    //document.getElementById("email").focus();
                    return false;
                }

                return true;

            }

        </script>

        <script>
            function validatephone(phoneNo, e) {
                var reg = /^([05]{2}[0-9]{4}[0-9]{4})$/;
                if (reg.test(phoneNo) == false) {
                    e.stopImmediatePropagation();
                    alert("الرجاء إدخال رقم الجوال بشكل صحيح 05xxxxxx");
                    return false;
                } else {
                    return true;
                }
            }

        </script>

        <script>
            function validGPA(GPA4, GPA5, GPAsystem, e) {
                e.stopImmediatePropagation();
                if (GPAsystem == 5 && (GPA5 < 4 || GPA5 > 5)) {
                    alert("يجب ان يكون المعدل التراكمي بين 4 و 5 ");
                    return false;
                } else if (GPAsystem == 4 && (GPA4 < 3 || GPA4 > 4)) {
                    alert("يجب ان يكون المعدل التراكمي بين 3 و 4");
                    return false;
                } else if (GPAsystem == undefined) {
                    alert("يجب اختيار نظام GPA المستخدم");
                    return false;
                }
                return true;
            }

        </script>

    </div>



    <footer>


        <p style="  text-align: center;   color: #c58989; ">
            <img src="images/logoo.png" width="100px" height="100px">
            <br> &copy; امانة منطقة الرياض

        </p>

    </footer>


</body>

</html>
